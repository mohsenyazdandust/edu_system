{% load static %}

<!doctype html>
<html lang="fa" class="min-vh-100" dir="rtl">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>ایجاد کاربر جدید | برنامه آموزشی دانشگاه</title>

    <!-- Scripts -->
    <link rel="stylesheet" href="{% get_static_prefix %}css/style.css">
    <link rel="stylesheet" href="{% get_static_prefix %}css/main.css">
    <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
        integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link
        href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css"
        rel="stylesheet" />
    <script
        src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

    <style>
        body {
            font-family: 'Shabnam' !important;
        }
    </style>
</head>

<body class="bg-light">
    <div id="app">
        {% include 'inc/nav.html' %}
        <main class="py-4 min-vh-100  row row-cols-2 m-0 "
            style="padding-top: 4.5rem !important">
            <div class="col-2 bg-primary shadow d-none d-md-block"
                style="border-radius: 50px 0 0 50px">
                {% include 'inc/menu.html' %}
            </div>
            <div class="card col-11 col-md-9 mx-auto shadow px-0"
                style="border-radius: 50px; overflow: hidden;">
                <div class="card-header px-4 text-bg-primary">
                    {% if cuser %}
                        ویرایش کاربر
                    {% else %}
                        ایجاد کاربر جدید 
                    {% endif %}
                </div>
                <div class="card-body bg-primary-subtle">
                    <div class="alert alert-info text-center" role="alert">
                        رمز عبور به طور پیش فرض 12345678 است.
                    </div>
                    <div
                        class="row justify-content-center align-items-center h-100 p-5">
                        <form action="" method="POST"
                            class="col-lg-5 card p-5 shadow-sm">
                            {% csrf_token %}
                            <div class="mb-3">
                                <label for="name" class="form-label">نام و نام
                                    خانوادگی :</label>
                                <input required name="first_name" class="form-control "
                                    id="name"
                                    placeholder="نام و نام خانوادگی را وارد کنید"
                                    value="{% if cuser %}{{ cuser.get_full_name }}{% endif %}">
                            </div>
                            <div class="mb-3">
                                <label for="username" class="form-label">نام کاربری
                                    :</label>
                                <input required name="username" class="form-control "
                                    id="username"
                                    placeholder="نام کاربری را وارد کنید"
                                    value="{% if cuser %}{{ cuser.username }}{% endif %}">
                            </div>

                            <div class="mb-3">
                                <label required for="access_level" class="form-label">سطح کاربری
                                    :</label>
                                <select class="form-select"
                                    aria-label="Default select example"
                                    name="access_level" required>
                                    <option disabled>انتخاب کنید</option>
                                    <option value="1" {% if cuser and cuser.access_level == 1 %}selected{% endif %}>مسئول آموزش کل</option>
                                    <option value="2" {% if cuser and cuser.access_level == 2 %}selected{% endif %}>رئیس دانشکده</option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">دانشکده
                                    :</label>
                                <select class="form-select"
                                    aria-label="Default select example"
                                    name="college" required>
                                    <option disabled>انتخاب کنید</option>
                                    {% for college in colleges %}
                                        <option value="{{ college.id }}" {% if cuser.college.id == college.id %}selected{% endif %} >{{ college.title }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">گروه
                                    :</label>
                                <select class="form-select"
                                    aria-label="Default select example"
                                    name="cgroup" required>
                                    <option disabled>انتخاب کنید</option>
                                    {% for group in groups %}
                                        <option value="{{ group.id }}" {% if cuser.cgroup.id == group.id %}selected{% endif %}>{{ group.title }}</option>
                                    {% endfor %}
                                </select>
                            </div>
                            <button type="submit"
                                class="btn btn-info text-white">ذخیره</button>
                        </form>
                    </div>
                </div>
                <div class="card-footer text-bg-primary" dir="ltr">
                </div>
            </div>
        </main>
    </div>

</body>

</html>